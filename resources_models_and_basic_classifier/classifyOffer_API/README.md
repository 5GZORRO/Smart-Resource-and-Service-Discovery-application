Terminal one : initialization

move to project file and execute:

1) #build the application using a tag (name)
docker build -t classifyofferapi_web .

2) #Run containers in the background
docker-compose up -d

Database is initially created by loading json_posts_formatted (auto inserted by application)

We are able to see the current offerings at 0.0.0.0:5000 (http://localhost:5000)


Terminal two : curl requests of new product offers:

Format is:
curl -i -H "Content-Type: application/json" -X POST -d 'enter offer here' http://localhost:5000/classifyOffer

Edge product offer format:

{"id": 476004, "href": "edgeResourceDID", "name": "physical node", "description": "EDGE resource (physical)", "lifecycleStatus": "Active", "version": "v2", "category": ["edge"], "validFor": {"endDateTime": "2020-10-19T00:00", "startDateTime": "2020-05-3T00:00"}, "location": "patras", "resourceSpecification": {"id": "fe856e33-a95f-4722-b7ff-ff2d4e68fa57", "href": "string", "category": "edge compute", "name": "edgeResourceSpec", "description": "edgeResourceSpec.", "version": "v1", "resourceSpecCharacteristic": [{"id": "d614188e-7a42-411e-b9f1-a320997fe798", "name": "coreFrequency", "@type": "ResourceCategory", "@baseType": "Category", "version": "1.0", "description": "The number of cpu cores of the edge resource.", "congigurable": "false", "extensible": "false", "isUnique": "false", "valueType": "numeric", "resourceSpecCharacteristicValue": [{"@type": "ResourceCategory", "@baseType": "Category", "isDefault": "false", "unitOfMeasure": "", "value": 2, "validFor": {"endDateTime": "2020-06-13T00:00", "startDateTime": "2020-05-23T00:00"}}], "validFor": {"endDateTime": "2020-06-13T00:00", "startDateTime": "2020-05-23T00:00"}}, {"id": "11f522b5-4758-48aa-8862-47643379af47", "name": "coreFrequency", "@type": "ResourceCategory", "@baseType": "Category", "version": "1.0", "description": "The core cpu frequency (MHz) of the edge resource.", "congigurable": "false", "extensible": "true", "isUnique": "false", "valueType": "numeric", "resourceSpecCharacteristicValue": [{"@type": "ResourceCategory", "@baseType": "Category", "isDefault": "false", "unitOfMeasure": "MHz", "value": 2350, "validFor": {"endDateTime": "2020-06-13T00:00", "startDateTime": "2020-05-23T00:00"}}], "validFor": {"endDateTime": "2020-06-13T00:00", "startDateTime": "2020-05-23T00:00"}}, {"id": "75d5504f-db8f-4072-87c9-90b21b67f7ad", "name": "memory", "@type": "ResourceCategory", "@baseType": "Category", "version": "1.0", "description": "The memory size of the edge resource expressed in MB.", "congigurable": "false", "extensible": "true", "isUnique": "false", "valueType": "numeric", "resourceSpecCharacteristicValue": [{"@type": "ResourceCategory", "@baseType": "Category", "isDefault": "true", "unitOfMeasure": "MB", "value": 512, "validFor": {"endDateTime": "2020-06-13T00:00", "startDateTime": "2020-05-23T00:00"}}], "validFor": {"endDateTime": "2020-06-13T00:00", "startDateTime": "2020-05-23T00:00"}}]}, "productOfferingPrice": [{"name": "Monthly Price", "description": "monthly price", "id": "3872", "href": "http://serverlocation:port/catalogManagement/productOfferingPrice/161", "@type": "ProductOfferingPrice", "@schemaLocation": "http://serverlocation:port/catalogManagement/schema/ProductOfferingPrice.yml", "@baseType": "", "isBundle": "false", "version": "1.0", "validFor": {"endDateTime": "2020-08-19T00:00", "startDateTime": "2020-05-14T00:00"}, "priceType": "recurring", "unitOfMeasure": "", "recurringChargePeriod": "monthly", "price": {"dutyFreeAmount": 100, "percentage": 0.0, "taxIncludedAmount": 123.0, "taxRate": 23}}], "serviceLevelAgreement": {"id": "2989", "href": "https://mycsp.com:8080/tmf-api/slaManagement/v4/sla/8082", "name": "Gold SLA for Business", "@referredType": "BusinessSLA", "type": "mc", "server": "mc3-sfn-atl.fibernet-tv.com:8088", "time": 1589359556395, "requests": 3120, "hits": 45}}

Final command: 

curl -i -H "Content-Type: application/json" -X POST -d '{"id": 476004, "href": "edgeResourceDID", "name": "physical node", "description": "EDGE resource (physical)", "lifecycleStatus": "Active", "version": "v2", "category": ["edge"], "validFor": {"endDateTime": "2020-10-19T00:00", "startDateTime": "2020-05-3T00:00"}, "location": "patras", "resourceSpecification": {"id": "fe856e33-a95f-4722-b7ff-ff2d4e68fa57", "href": "string", "category": "edge compute", "name": "edgeResourceSpec", "description": "edgeResourceSpec.", "version": "v1", "resourceSpecCharacteristic": [{"id": "d614188e-7a42-411e-b9f1-a320997fe798", "name": "coreFrequency", "@type": "ResourceCategory", "@baseType": "Category", "version": "1.0", "description": "The number of cpu cores of the edge resource.", "congigurable": "false", "extensible": "false", "isUnique": "false", "valueType": "numeric", "resourceSpecCharacteristicValue": [{"@type": "ResourceCategory", "@baseType": "Category", "isDefault": "false", "unitOfMeasure": "", "value": 2, "validFor": {"endDateTime": "2020-06-13T00:00", "startDateTime": "2020-05-23T00:00"}}], "validFor": {"endDateTime": "2020-06-13T00:00", "startDateTime": "2020-05-23T00:00"}}, {"id": "11f522b5-4758-48aa-8862-47643379af47", "name": "coreFrequency", "@type": "ResourceCategory", "@baseType": "Category", "version": "1.0", "description": "The core cpu frequency (MHz) of the edge resource.", "congigurable": "false", "extensible": "true", "isUnique": "false", "valueType": "numeric", "resourceSpecCharacteristicValue": [{"@type": "ResourceCategory", "@baseType": "Category", "isDefault": "false", "unitOfMeasure": "MHz", "value": 2350, "validFor": {"endDateTime": "2020-06-13T00:00", "startDateTime": "2020-05-23T00:00"}}], "validFor": {"endDateTime": "2020-06-13T00:00", "startDateTime": "2020-05-23T00:00"}}, {"id": "75d5504f-db8f-4072-87c9-90b21b67f7ad", "name": "memory", "@type": "ResourceCategory", "@baseType": "Category", "version": "1.0", "description": "The memory size of the edge resource expressed in MB.", "congigurable": "false", "extensible": "true", "isUnique": "false", "valueType": "numeric", "resourceSpecCharacteristicValue": [{"@type": "ResourceCategory", "@baseType": "Category", "isDefault": "true", "unitOfMeasure": "MB", "value": 512, "validFor": {"endDateTime": "2020-06-13T00:00", "startDateTime": "2020-05-23T00:00"}}], "validFor": {"endDateTime": "2020-06-13T00:00", "startDateTime": "2020-05-23T00:00"}}]}, "productOfferingPrice": [{"name": "Monthly Price", "description": "monthly price", "id": "3872", "href": "http://serverlocation:port/catalogManagement/productOfferingPrice/161", "@type": "ProductOfferingPrice", "@schemaLocation": "http://serverlocation:port/catalogManagement/schema/ProductOfferingPrice.yml", "@baseType": "", "isBundle": "false", "version": "1.0", "validFor": {"endDateTime": "2020-08-19T00:00", "startDateTime": "2020-05-14T00:00"}, "priceType": "recurring", "unitOfMeasure": "", "recurringChargePeriod": "monthly", "price": {"dutyFreeAmount": 100, "percentage": 0.0, "taxIncludedAmount": 123.0, "taxRate": 23}}], "serviceLevelAgreement": {"id": "2989", "href": "https://mycsp.com:8080/tmf-api/slaManagement/v4/sla/8082", "name": "Gold SLA for Business", "@referredType": "BusinessSLA", "type": "mc", "server": "mc3-sfn-atl.fibernet-tv.com:8088", "time": 1589359556395, "requests": 3120, "hits": 45}}' http://localhost:5000/classifyOffer


Mockup classification algorithm returns the cluster the new product offer belongs to


